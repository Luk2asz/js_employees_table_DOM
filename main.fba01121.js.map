{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","rows","querySelectorAll","ascName","ascPosition","ascOffice","ascAge","ascSalary","body","form","createElement","notification","newRow","appendChild","outerHTML","nameInput","positionInput","officeInput","ageInput","salaryInput","button","salaryToNumber","string","Number","slice","replaceAll","sortStrings","asc","columnIndex","sort","a","b","current","cells","innerHTML","next","localeCompare","notificationError","text","classList","add","textContent","notificationSuccess","value","addEventListener","e","target","cellIndex","forEach","x","map","row","remove","parentNode","preventDefault","setAttribute","length","toLocaleString"],"mappings":";AAAA,aA6IC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA3ID,IAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAC/BE,EAAWD,EAAAA,EAAME,iBAAiB,OACpCC,EAAU,EACVC,EAAc,EACdC,EAAY,EACZC,EAAS,EACTC,EAAY,EACVC,EAAOV,SAASC,cAAc,QAC9BU,EAAOX,SAASY,cAAc,QAC9BC,EAAeb,SAASY,cAAc,OACtCE,EAASd,SAASY,cAAc,MAEtCF,EAAKK,YAAYF,GACjBH,EAAKK,YAAYJ,GAEjBA,EAAKK,UAAL,iuBAkBA,IAAMC,EAAYjB,SAASC,cAAc,sBACnCiB,EAAgBlB,SAASC,cAAc,0BACvCkB,EAAcnB,SAASC,cAAc,yBACrCmB,EAAWpB,SAASC,cAAc,qBAClCoB,EAAcrB,SAASC,cAAc,wBACrCqB,EAAStB,SAASC,cAAc,UA2EtC,SAASsB,EAAeC,GACfC,OAAAA,OAAOD,EAAOE,MAAM,GAAGC,WAAW,IAAK,KAGhD,SAASC,EAAYC,EAAKC,GACxB3B,EAAK4B,KAAK,SAACC,EAAGC,GACNC,IAAAA,EAAUF,EAAEG,MAAML,GAAaM,UAC/BC,EAAOJ,EAAEE,MAAML,GAAaM,UAE3BP,OAAAA,EAAMK,EAAQI,cAAcD,KAIvC,SAASE,EAAkBC,GACzB3B,EAAa4B,UAAUC,IAAI,SAC3B7B,EAAa8B,YAAcH,EAG7B,SAASI,IACP/B,EAAa8B,YAAc,gCAC3B1B,EAAU4B,MAAQ,GAClB3B,EAAc2B,MAAQ,GACtB1B,EAAY0B,MAAQ,QACpBzB,EAASyB,MAAQ,GACjBxB,EAAYwB,MAAQ,GAjGtB9C,EAAM+C,iBAAiB,QAAS,SAAAC,GACxBjB,IAAAA,EAAciB,EAAEC,OAAOC,UAErBF,OAAAA,EAAEC,OAAOC,WACV,KAAA,EACHrB,EAAYvB,EAASyB,GACrBzB,IAAY,EAEZ,MACG,KAAA,EACHuB,EAAYtB,EAAawB,GACzBxB,IAAgB,EAChB,MAEG,KAAA,EACHsB,EAAYrB,EAAWuB,GACvBvB,IAAc,EACd,MAEG,KAAA,EACHJ,EAAK4B,KAAK,SAACC,EAAGC,GACNC,IAAAA,EAAUF,EAAEG,MAAML,GAAaM,UAC/BC,EAAOJ,EAAEE,MAAML,GAAaM,UAE3B5B,OAAAA,GAAUiB,OAAOS,GAAWT,OAAOY,MAE5C7B,IAAW,EACX,MAEG,KAAA,EACHL,EAAK4B,KAAK,SAACC,EAAGC,GACNC,IAAAA,EAAUF,EAAEG,MAAML,GAAaM,UAC/BC,EAAOJ,EAAEE,MAAML,GAAaM,UAE3B3B,OAAAA,GAAac,EAAeW,GAAWX,EAAec,MAE/D5B,IAAc,EAIlBN,EAAK+C,QAAQ,SAAAC,GAAKjD,OAAAA,EAAMa,YAAYoC,OAGtCjD,EAAM4C,iBAAiB,QAAS,SAAAC,GAC9B5C,EAAKiD,IAAI,SAAAC,GAAOA,OAAAA,EAAIZ,UAAUa,OAAO,YACrCP,EAAEC,OAAOO,WAAWd,UAAUC,IAAI,YAGpCpB,EAAOwB,iBAAiB,QAAS,SAACC,GAChCA,EAAES,iBACFtD,EAAMa,YAAYD,GAClBD,EAAa4C,aAAa,UAAW,gBAEhCxC,EAAU4B,OAAUzB,EAASyB,OAAU1B,EAAY0B,OAClD3B,EAAc2B,OAAUxB,EAAYwB,MAE/B5B,EAAU4B,MAAMa,OAAS,EAClCnB,EAAkB,qCACTnB,EAASyB,MAAQ,IAAMzB,EAASyB,MAAQ,GACjDN,EAAkB,kCAElBzB,EAAOE,UACDC,iBAAAA,OAAAA,EAAU4B,MACV3B,mBAAAA,OAAAA,EAAc2B,MACd1B,mBAAAA,OAAAA,EAAY0B,MACZzB,mBAAAA,OAAAA,EAASyB,MACRpB,oBAAAA,OAAAA,OAAOJ,EAAYwB,OAAOc,eAAe,SALhD,oBAOA9C,EAAa4B,UAAUC,IAAI,WAC3BE,KAdAL,EAAkB","file":"main.fba01121.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst rows = [...tbody.querySelectorAll('tr')];\nlet ascName = 1;\nlet ascPosition = 1;\nlet ascOffice = 1;\nlet ascAge = 1;\nlet ascSalary = 1;\nconst body = document.querySelector('body');\nconst form = document.createElement('form');\nconst notification = document.createElement('div');\nconst newRow = document.createElement('tr');\n\nbody.appendChild(notification);\nbody.appendChild(form);\n\nform.outerHTML = `<form class=\"new-employee-form\">\n<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" ></label>\n<label>Position: <input name=\"position\" type=\"text\" data-qa=\"position\" >\n</label>\n<label>Office: <select name=\"office\" data-qa=\"office\">\n<option value=\"Tokyo\">Tokyo</option>\n<option value=\"Singapore\">Singapore</option>\n<option value=\"London\">London</option>\n<option value=\"New York\">New York</option>\n<option value=\"Edinburgh\">Edinburgh</option>\n<option value=\"San Francisco\">San Francisco</option>\n</select>\n</label>\n<label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\" ></label>\n<label>Salary: <input name=\"salary\" type=\"number\"  data-qa=\"salary\" ></label>\n<button name=\"button\">Save to table</button>\n</form>`;\n\nconst nameInput = document.querySelector('input[name=\"name\"]');\nconst positionInput = document.querySelector('input[name=\"position\"]');\nconst officeInput = document.querySelector('select[name=\"office\"]');\nconst ageInput = document.querySelector('input[name=\"age\"]');\nconst salaryInput = document.querySelector('input[name=\"salary\"]');\nconst button = document.querySelector('button');\n\nthead.addEventListener('click', e => {\n  const columnIndex = e.target.cellIndex;\n\n  switch (e.target.cellIndex) {\n    case 0:\n      sortStrings(ascName, columnIndex);\n      ascName *= -1;\n\n      break;\n    case 1:\n      sortStrings(ascPosition, columnIndex);\n      ascPosition *= -1;\n      break;\n\n    case 2:\n      sortStrings(ascOffice, columnIndex);\n      ascOffice *= -1;\n      break;\n\n    case 3:\n      rows.sort((a, b) => {\n        const current = a.cells[columnIndex].innerHTML;\n        const next = b.cells[columnIndex].innerHTML;\n\n        return ascAge * (Number(current) - Number(next));\n      });\n      ascAge *= -1;\n      break;\n\n    case 4:\n      rows.sort((a, b) => {\n        const current = a.cells[columnIndex].innerHTML;\n        const next = b.cells[columnIndex].innerHTML;\n\n        return ascSalary * (salaryToNumber(current) - salaryToNumber(next));\n      });\n      ascSalary *= -1;\n      break;\n  }\n\n  rows.forEach(x => tbody.appendChild(x));\n});\n\ntbody.addEventListener('click', e => {\n  rows.map(row => row.classList.remove('active'));\n  e.target.parentNode.classList.add('active');\n});\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n  tbody.appendChild(newRow);\n  notification.setAttribute('data-qa', 'notification');\n\n  if (!nameInput.value || !ageInput.value || !officeInput.value\n    || !positionInput.value || !salaryInput.value) {\n    notificationError('at least one of the fields is empty');\n  } else if (nameInput.value.length < 4) {\n    notificationError('Name must have at least 4 letters');\n  } else if (ageInput.value < 18 || ageInput.value > 90) {\n    notificationError('Age must be between 18 and 90');\n  } else {\n    newRow.outerHTML = `<tr>\n    <td>${nameInput.value}</td>\n    <td>${positionInput.value}</td>\n    <td>${officeInput.value}</td>\n    <td>${ageInput.value}</td>\n    <td>$${Number(salaryInput.value).toLocaleString('en-US')}</td>\n    </tr>`;\n    notification.classList.add('success');\n    notificationSuccess();\n  }\n});\n\nfunction salaryToNumber(string) {\n  return Number(string.slice(1).replaceAll(',', ''));\n}\n\nfunction sortStrings(asc, columnIndex) {\n  rows.sort((a, b) => {\n    const current = a.cells[columnIndex].innerHTML;\n    const next = b.cells[columnIndex].innerHTML;\n\n    return asc * current.localeCompare(next);\n  });\n}\n\nfunction notificationError(text) {\n  notification.classList.add('error');\n  notification.textContent = text;\n}\n\nfunction notificationSuccess() {\n  notification.textContent = 'You have added a new employee';\n  nameInput.value = '';\n  positionInput.value = '';\n  officeInput.value = 'Tokyo';\n  ageInput.value = '';\n  salaryInput.value = '';\n}\n"]}